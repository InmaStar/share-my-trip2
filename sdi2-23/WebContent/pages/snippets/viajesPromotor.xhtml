<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<h1>#{msgs.promoter_trips }</h1>
<!-- <p:panel header="#{msgs.promoter_trips }"> -->
		<p:dataTable id="listadoViajesPromotor" var="entry"
				value="#{trips.listaViajes}" border="1"
				rows="10" sortMode="multiple" paginator="true"
                paginatorTemplate="{PreviousPageLink} {PageLinks} {NextPageLink} {RowsPerPageDropdown}"
                rowsPerPageTemplate="10,20,30">
		<p:row rendered="#{entry.promoter(user.id) }"> <!--  id="promoterTrip#{trips.listaViajes.index(entry)} -->
			<p:column headerText="#{msgs.trip_id }" sortBy="#{entry.id}">
			#{entry.id}
			</p:column>
			<p:column headerText="#{msgs.departure}" sortBy="#{entry.departure.city}">
			#{entry.departure.city}
			</p:column>
			<p:column headerText="#{msgs.destination}" sortBy="#{entry.destination.city}">
			#{entry.destination.city }
			</p:column>
			<p:column headerText="#{msgs.max_seats}" sortBy="#{entry.maxPax}">
			#{entry.maxPax }
			</p:column>
			<p:column headerText="#{msgs.available_seats}" sortBy="#{entry.vailablePax}">
			#{entry.availablePax }
			</p:column>
			<p:column headerText="#{msgs.trip_status}" sortBy="#{entry.status}">
			#{entry.status }
			</p:column>
			<p:column>
			<p:commandLink action="solicitudes" inmediate="true" 
				value="#{msgs.check_seat_requests }"/>
				<f:setPropertyActionListener target="#{trip.viaje}"
						value="#{entry}" />
				</p:commandLink>
			</p:column>
			<p:column>
               <p:commandLink action="modificarViaje" inmediate="true" rendered="#{entry.open }"
               value="#{msgs.modify_trip }" />
               <f:setPropertyActionListener target="#{trip.viaje}"
						value="#{entry}" />
				</p:commandLink>
			</p:column>
			<p:column>
                <p:commandLink action="#{trips.cancelarViaje(entry)}" rendered="#{entry.open }">
				#{msgs.cancel_trip }</p:commandLink>
			</p:column>
		</p:row>
		</p:dataTable>
<!-- 	</p:panel> -->

</ui:composition>