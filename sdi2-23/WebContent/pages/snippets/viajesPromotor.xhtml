<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core">
	
	<h1>#{msgs.promoter_trips }</h1>
<!-- <p:panel header="#{msgs.promoter_trips }"> -->
		<p:dataTable id="listadoViajesPromotor" var="entry"
				value="#{trips.listaViajes}" border="1">
		<p:row rendered="#{entry.promoter(user.id) }"> <!--  id="promoterTrip#{trips.listaViajes.index(entry)} -->
			<p:column>
			<f:facet>#{msgs.trip_id }</f:facet> #{entry.id}
			</p:column>
			<p:column>
			<f:facet>#{msgs.departure}</f:facet> #{entry.departure.city}
			</p:column>
			<p:column>
			<f:facet>#{msgs.destination}</f:facet> #{entry.destination.city }
			</p:column>
			<p:column>
			<f:facet>#{msgs.max_seats}</f:facet> #{entry.maxPax }
			</p:column>
			<p:column>
			<f:facet>#{msgs.available_seats}</f:facet> #{entry.availablePax }
			</p:column>
			<p:column>
			<f:facet>#{msgs.trip_status}</f:facet> #{entry.status }
			</p:column>
			<p:column>
			<p:commandLink action="solicitudes" inmediate="true" 
				value="#{msgs.check_seat_requests }"/>
				<f:setPropertyActionListener target="#{trip.viaje}"
						value="#{entry}" />
				</p:commandLink>
			</p:column>
			<p:column>
               <p:commandLink action="modificarViaje" inmediate="true" rendered="#{entry.open }"
               value="#{msgs.modify_trip }" />
               <f:setPropertyActionListener target="#{trip.viaje}"
						value="#{entry}" />
				</p:commandLink>
			</p:column>
			<p:column>
                <p:commandLink action="#{trips.cancelarViaje(entry)}" rendered="#{entry.open }">
				#{msgs.cancel_trip }</p:commandLink>
			</p:column>
		</p:row>
		</p:dataTable>
<!-- 	</p:panel> -->

</ui:composition>